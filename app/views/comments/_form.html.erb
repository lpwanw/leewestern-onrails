<%= turbo_frame_tag "comment_form_#{dom_id(post)}" do %>
  <div class="flex w-full px-4 pt-4">
    <div class="shrink-0 flex flex-col items-center gap-2">
      <%= avatar_tag post.user, class: "w-10 h-10 rounded-full" %>
    </div>

    <div class="pl-2 w-full">
      <span class="block font-semibold">
        <%= post.user_name %>
      </span>
      <p class="line-clamp-2">
        <%= post.title %>
      </p>
    </div>
  </div>
  <div class="flex w-full p-4">
    <div class="flex flex-col items-center gap-2 shrink-0">
      <%= avatar_tag current_user, class: "w-10 h-10 rounded-full" %>
    </div>
    <%= form_for comment,
                 url: post_comments_path(post),
                 html: {
                   class: "grow pl-2 w-full",
                 } do |f| %>
      <div class="w-full flex justify-between">
        <span class="block font-semibold">
          <%= current_user.name %>
        </span>
      </div>
      <div class="comment_content">
        <%= f.rich_text_area :content %>
      </div>
      <div class="flex gap-1 mt-2">
        <%= f.submit class: "text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800" %>
        <button type="button" data-action="click->show-modal#close" class="text-white bg-gray-700 hover:bg-gray-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Cancel</button>
      </div>
    <% end %>
  </div>
<% end %>
